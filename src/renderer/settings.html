<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - SnapAssist AI</title>
    <link rel="stylesheet" href="settings.css">
</head>
<body class="theme-dark">
    <div class="settings-container">
        <div class="settings-header">
            <h1>Settings</h1>
            <p>Configure SnapAssist AI to your preferences</p>
        </div>

        <div class="settings-content">
            <!-- User section -->
            <div class="user-card">
                <div class="user-left">
                    <div class="avatar-wrap"><img id="settings-user-avatar" class="user-avatar" alt="User"></div>
                    <div class="user-meta">
                        <div id="settings-user-name" class="user-name">Guest User</div>
                        <div id="settings-user-email" class="user-email">Using app without account</div>
                    </div>
                </div>
                <div class="user-actions">
                    <button id="settings-signin-btn" class="btn btn-primary">Sign In</button>
                    <button id="settings-signout-btn" class="btn btn-secondary hidden">Sign Out</button>
                </div>
            </div>

            <div class="setting-group">
                <label for="provider-select">AI Provider</label>
                <select id="provider-select">
                    <option value="ollama">Ollama (Local)</option>
                    <option value="gemini">Gemini (Cloud)</option>
                </select>
                <small>Choose between local Ollama or cloud-based Gemini AI</small>
            </div>

            <div class="setting-group">
                <label for="ollama-model">Ollama Model</label>
                <input type="text" id="ollama-model" placeholder="granite3.2-vision:2b">
                <small>Model to use with Ollama (e.g., granite3.2-vision:2b, llama3.2:3b)</small>
            </div>

            <div class="setting-group">
                <label for="gemini-model">Gemini Model</label>
                <select id="gemini-model">
                    <option value="gemini-2.0-flash">gemini-2.0-flash</option>
                    <option value="gemini-1.5-flash">gemini-1.5-flash</option>
                    <option value="gemini-1.5-pro">gemini-1.5-pro</option>
                </select>
                <small>Gemini model to use for AI responses</small>
            </div>

            <div class="setting-group">
                <label for="gemini-api-key">Gemini API Key</label>
                <div class="api-key-group">
                    <input type="password" id="gemini-api-key" placeholder="Enter your Gemini API key" autocomplete="off" spellcheck="false">
                    <button type="button" id="paste-key-btn" class="btn btn-secondary" title="Paste from clipboard">üìã</button>
                    <button type="button" id="toggle-key-visibility" class="btn btn-secondary" title="Toggle visibility">üëÅ</button>
                </div>
                <small>
                    Get your API key from
                    <a href="https://aistudio.google.com/apikey" target="_blank">Google AI Studio</a>
                    <br>
                    <em>Tip: Copy your API key, then click the üìã button to paste it</em>
                </small>
            </div>

            <div class="setting-group">
                <label for="theme-select">Theme</label>
                <select id="theme-select">
                    <option value="dark">Dark</option>
                    <option value="light">Light</option>
                    <option value="glass">Glass</option>
                </select>
                <small>Choose your preferred visual theme</small>
            </div>

            <div class="setting-group">
                <label>Shortcuts</label>
                <div class="shortcuts-info">
                    <div class="shortcut-item">
                        <span class="shortcut-key">Cmd+Shift+H</span>
                        <span class="shortcut-desc">Global screenshot capture (macOS)</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Ctrl+Shift+H</span>
                        <span class="shortcut-desc">Global screenshot capture (Windows)</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Cmd/Ctrl+Shift+V</span>
                        <span class="shortcut-desc">Process clipboard image</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Cmd/Ctrl+Shift+S</span>
                        <span class="shortcut-desc">Screenshot selection</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="settings-footer">
            <div class="button-group">
                <button type="button" id="cancel-btn" class="btn btn-secondary">Cancel</button>
                <button type="button" id="test-connection-btn" class="btn btn-secondary">Test Connection</button>
                <button type="button" id="save-btn" class="btn btn-primary">Save Settings</button>
            </div>
        </div>

        <!-- Status message -->
        <div id="status-message" class="status-message hidden"></div>
    </div>

    <script src="settings.js"></script>
</body>
</html>
